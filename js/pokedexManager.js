!function(){let e={},n={},t={},o=[],r=[],i=function(e,n,o=-1){-1===o&&(o=s(n)),t={id:o,name:e,url:n,description:"",types:[],hasInfoFromApi:!1,genera:""}},s=function(e){let n=e.split("/"),t=n.length-2;return parseInt(n[t])},a=function(e){return"pkmn"+e},l=function(n=1){return e={},p(n),e.hasOwnProperty("id")&&n===e.id},p=function(n=1){let t=a(n),o=localStorage.getItem(t);e=null===o?{}:JSON.parse(o)},c=function(e={}){if(e.hasOwnProperty("id")){let t=a(e.id);n=e,localStorage.setItem(t,JSON.stringify(e))}else n={}},m=function(s,a){return new Promise((p,m)=>{let d={result:!1};o=[],r=[],s>150?p(d):(a>150&&(a=150-s),h(s,a)?(o=r,u(),d.result=!0,p(d)):fetch(`https://pokeapi.co/api/v2/pokemon/?limit=${a}&offset=${s}`).then(e=>e.json()).then(r=>{const{results:s}=r;s.forEach(r=>{(function(e,n,o=-1){return t={},i(e,n,o),t.hasOwnProperty("id")})(r.name,r.url)&&(l(t.id)?(console.log("Existe"),o.push(e)):(console.log("No Existe"),!function(e={}){return n={},c(e),n.hasOwnProperty("id")&&e.id===n.id}(t)?(console.log("Creado"),o.push(t)):(console.log("Guardado"),o.push(n))))}),o.length>0&&(d.result=!0),u(),p(d)}).catch(e=>{m(e)}))})},u=function(){let e=document.getElementById("pokemons_container"),n="";o.forEach(e=>{n+=d(e)}),e.innerHTML=e.innerHTML+n},d=function(e){let n="";return e.hasOwnProperty("id")&&e.hasOwnProperty("name")&&(n=`<a class="pokemon_item" href="./pokemon.html?id=${e.id}">\n                                <header class="pokemon_item__header">\n                                    <span class="pokemon_item__header__id">${e.id}</span>\n                                    <span class="pokemon_item__header__name">${e.name}</span>\n                                </header>\n                                <img src="https://pokeres.bastionbot.org/images/pokemon/${e.id}.png" alt="Imagen de ${e.name}" class="pokemon_item__image"></img>\n                            </a>`),n},h=function(e,n){return f(e,n),r.length===n},f=function(n,t){let o=n+1,i=n+t;for(r=[];o<=i;o++)l(o)&&r.push(e)};window.hasOwnProperty("pokedex")||(window.pokedex={getListOfPokemons:m})}();